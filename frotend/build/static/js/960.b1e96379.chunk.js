"use strict";(self.webpackChunkfrotend=self.webpackChunkfrotend||[]).push([[960],{93960:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var s=a(65043),n=a(79456),r=a(88881),o=a(7530),l=a(81576),i=a(97),c=a(96958),d=a(96962),u=a(66187),m=a(48655),p=a(67467),h=a(30105),x=a(82110),j=a(66979),A=a(91688),g=a(60811),v=a(99229),f=a(4626),N=a(14371),S=a(67547),C=a(18720),y=a(41639),P=a(50992),F=a(98455),I=a(22432),b=a(98348),w=a(69255),k=a(75944),z=a(75574),W=a(70579);const B=function(){const e=(0,n.wA)(),t=(0,A.useHistory)(),a=(0,r.MW)(),B=(0,z.A)(),D=(0,A.useRouteMatch)().params.id,{error:q,product:O}=(0,n.d4)((e=>e.productDetails)),{loading:U,error:E,isUpdated:R}=(0,n.d4)((e=>e.deleteUpdateProduct)),[M,T]=(0,s.useState)(""),[H,L]=(0,s.useState)(0),[Y,_]=(0,s.useState)(0),[G,J]=(0,s.useState)(""),[K,Q]=(0,s.useState)(""),[V,X]=(0,s.useState)(!1),[Z,$]=(0,s.useState)(0),[ee,te]=(0,s.useState)([]),[ae,se]=(0,s.useState)(""),[ne,re]=(0,s.useState)([]),[oe,le]=(0,s.useState)([]),ie=(0,s.useRef)(),[ce,de]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{O&&O._id!==D?e((0,j.Ok)(D)):(T(O.name),J(O.description),L(O.price),_(O.discount),Q(""),se(O.info),$(O.Stock),le(O.images)),q&&(a.error(q),e((0,j.x8)())),E&&(a.error(E),e((0,j.x8)())),R&&(a.success("Product Updated Successfully"),t.push("/admin/products"),e({type:g.YP}))}),[e,a,q,t,R,D,O,E]),(0,W.jsx)(W.Fragment,{children:U?(0,W.jsx)(l.A,{}):(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(o.A,{title:"Create Product"}),(0,W.jsxs)("div",{className:B.updateProduct,children:[(0,W.jsx)("div",{className:"".concat(ce?B.toggleBox1:B.firstBox1),children:(0,W.jsx)(x.A,{})}),(0,W.jsxs)("div",{className:B.secondBox1,children:[(0,W.jsx)("div",{className:B.navBar1,children:(0,W.jsx)(k.A,{toggleHandler:()=>{de(!ce)}})}),(0,W.jsx)("div",{className:"".concat(B.formContainer," ").concat(B.formContainer2),children:(0,W.jsxs)("form",{className:"".concat(B.form," ").concat(B.form2),encType:"multipart/form-data",children:[(0,W.jsx)(d.A,{className:B.avatar,children:(0,W.jsx)(P.A,{})}),(0,W.jsx)(u.A,{variant:"h5",component:"h1",className:B.heading,children:"Create Product"}),(0,W.jsx)(m.A,{variant:"outlined",fullWidth:!0,className:"".concat(B.nameInput," ").concat(B.textField),label:"Product Name",required:!0,value:M,onChange:e=>T(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",children:(0,W.jsx)(N.A,{style:{fontSize:20,color:"#414141"}})})}}),(0,W.jsx)(m.A,{variant:"outlined",label:"Price",value:H,required:!0,fullWidth:!0,className:"".concat(B.passwordInput," ").concat(B.textField),onChange:e=>L(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,W.jsx)(C.A,{})})}}),(0,W.jsx)(m.A,{variant:"outlined",label:"Discount",value:Y,required:!0,fullWidth:!0,className:"".concat(B.passwordInput," ").concat(B.textField),onChange:e=>_(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,W.jsx)(y.A,{})})}}),(0,W.jsx)(m.A,{variant:"outlined",label:"Stock",value:Z,required:!0,className:"".concat(B.passwordInput," ").concat(B.textField),onChange:e=>$(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,W.jsx)(c.A,{})})}}),(0,W.jsx)(m.A,{variant:"outlined",label:"Prodcut Info",value:ae,required:!0,className:"".concat(B.passwordInput," ").concat(B.textField),onChange:e=>se(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,W.jsx)(b.A,{})})}}),(0,W.jsxs)("div",{className:B.selectOption,children:[!V&&(0,W.jsx)(u.A,{variant:"body2",className:B.labelText,children:"Choose Category"}),(0,W.jsx)(p.A,{className:B.formControl,children:(0,W.jsxs)(I.A,{variant:"outlined",fullWidth:!0,value:K,onChange:e=>{Q(e.target.value),X(!0)},className:B.select,inputProps:{name:"category",id:"category-select"},MenuProps:{classes:{paper:B.menu},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!K&&(0,W.jsx)(w.A,{value:"",children:(0,W.jsx)("em",{children:"Choose Category"})}),["men-suits","women-suits","blazers","t-shirts","designer-choice","jodhpuri-suits","kurta-set","shirts-trousers"].map((e=>(0,W.jsx)(w.A,{value:e,children:e},e)))]})})]}),(0,W.jsx)(m.A,{variant:"outlined",fullWidth:!0,className:B.descriptionInput,label:"Product Description",multiline:!0,rows:1,value:G,onChange:e=>J(e.target.value),InputProps:{endAdornment:(0,W.jsx)(v.A,{position:"end",children:(0,W.jsx)(i.A,{className:B.descriptionIcon})})}}),(0,W.jsxs)("div",{className:B.root,children:[(0,W.jsx)("div",{className:B.imgIcon,children:(0,W.jsx)(F.A,{fontSize:"large",style:{fontSize:40}})}),(0,W.jsx)("input",{type:"file",name:"avatar",className:B.input,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);te([]),re([]),le([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(re((e=>[...e,t.result])),te((e=>[...e,t.result])))},t.readAsDataURL(e)}))},multiple:!0,style:{display:"none"},ref:ie}),(0,W.jsx)("label",{htmlFor:"avatar-input",children:(0,W.jsx)(h.A,{variant:"contained",color:"default",className:B.uploadAvatarButton,startIcon:(0,W.jsx)(S.A,{style:{color:"#FFFFFF"}}),onClick:()=>{ie.current.click()},children:(0,W.jsx)("p",{className:B.uploadAvatarText,children:"Upload Images"})})})]}),ne.length>0?(0,W.jsx)(f.A,{className:B.imageArea,children:ne&&ne.map(((e,t)=>(0,W.jsx)("img",{src:e,alt:"Product Preview",className:B.image},t)))}):(0,W.jsx)(f.A,{className:B.imageArea,children:oe&&oe.map(((e,t)=>(0,W.jsx)("img",{src:e.url,alt:"Old Product Preview",className:B.image},t)))}),(0,W.jsx)(h.A,{variant:"contained",className:B.loginButton,fullWidth:!0,onClick:t=>{t.preventDefault();const a=new FormData;a.set("name",M),a.set("price",H),a.set("discount",Y),a.set("description",G),a.set("category",K),a.set("Stock",Z),a.set("info",ae),ee.forEach((e=>{a.append("images",e)})),e((0,j.vc)(D,a))},disabled:!!U,children:"Create"})]})})]})]})]})})})}}}]);
//# sourceMappingURL=960.b1e96379.chunk.js.map